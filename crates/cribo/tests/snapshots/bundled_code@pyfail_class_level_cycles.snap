---
source: crates/cribo/tests/test_bundling_snapshots.rs
input_file: crates/cribo/tests/fixtures/pyfail_class_level_cycles/main.py
---
#!/usr/bin/env python3
# Generated by Cribo - Python Source Bundler
# https://github.com/ophidiarium/cribo

import types
class Admin_admin_class(User):
    """Admin class that inherits from User."""

    def __init__(self, name):
        super().__init__(name)
        self.is_admin = True

    def demote_to_user(self):
        """Demote admin to regular user."""
        return User(self.name)
class User_user_class:
    """User class that references Admin class."""

    def __init__(self, name):
        self.name = name
        self.admin_reference = Admin

    def promote_to_admin(self):
        """Promote user to admin."""
        return self.admin_reference(self.name)
admin_class = types.SimpleNamespace()
admin_class.Admin = Admin_admin_class
user_class = types.SimpleNamespace()
user_class.User = User_user_class
User = user_class.User
Admin = admin_class.Admin
"""Test case with class-level circular dependencies."""
def main():
    user = User("Alice")
    admin = Admin("Bob")
    print(f"User: {user.name}")
    print(f"Admin: {admin.name}")
if __name__ == "__main__":
    main()
if __name__ == "__main__":
    main()
