# yaml-language-server: =https://json.schemastore.org/lefthook.json
assert_lefthook_installed: true
pre-commit:
  commands:
    format:
      glob: '**/*.rs'
      run: cargo fmt --edition 2024 {staged_files}
      stage_fixed: true
    lint:
      glob: '**/*.rs'
      run: cargo clippy --all-targets --all-features -- -D warnings
    dprint:
      glob: '*.{json,jsonc,yaml,yml,md,toml,py}'
      run: dprint fmt {staged_files}
      stage_fixed: true

post-checkout:
  commands:
    dependencies:
      glob: 'uv.lock'
      run: uv sync
